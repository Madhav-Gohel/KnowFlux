<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Questionnaire</h1>
        <form id="questionnaireForm" action="/generate-topics" method="POST">
            <div id="question1" class="question">
                <label for="subjectName" class="form-label">1) Subject Name:</label>
                <input type="text" id="subjectName" name="subjectName" class="form-control" required>
                <button type="button" class="btn btn-primary mt-3" onclick="nextQuestion(2)">Next</button>
            </div>

            <div id="question2" class="question d-none">
                <label for="knowledgeLevel" class="form-label">2) Knowledge level of that subject:</label>
                <select id="knowledgeLevel" name="knowledgeLevel" class="form-select" required>
                    <option value="" disabled selected>Select your level</option>
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Advanced">Advanced</option>
                </select>
                <button type="button" class="btn btn-primary mt-3" onclick="nextQuestion(3)">Next</button>
            </div>

            <div id="question3" class="question d-none">
                <label for="currentStatus" class="form-label">3) Current Status:</label>
                <select id="currentStatus" name="currentStatus" class="form-select" required onchange="togglePositionField(this.value)">
                    <option value="" disabled selected>Select your status</option>
                    <option value="Student">Student</option>
                    <option value="Professional">Professional</option>
                </select>
                <div id="positionField" class="mt-3 d-none">
                    <label for="position" class="form-label">If Professional, specify your position:</label>
                    <input type="text" id="position" name="position" class="form-control">
                </div>
                <button type="submit" class="btn btn-success mt-3">Submit</button>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function nextQuestion(questionNumber) {
            document.querySelectorAll('.question').forEach(q => q.classList.add('d-none'));
            document.getElementById(`question${questionNumber}`).classList.remove('d-none');
        }

        function togglePositionField(value) {
            const positionField = document.getElementById('positionField');
            if (value === 'Professional') {
                positionField.classList.remove('d-none');
            } else {
                positionField.classList.add('d-none');
                document.getElementById('position').value = '';
            }
        }
    </script>
</body>
</html>